[importlinter]
root_package = app

[contract: forbid_cross_feature_repo]
type = forbidden
name = Features must not import each other's repos
source_modules =
    app.features.auth.repo
    app.features.posts.repo
    app.features.reactions.repo
    app.features.comments.repo
    app.features.payments.repo
forbidden_modules =
    app.features.auth.repo
    app.features.posts.repo
    app.features.reactions.repo
    app.features.comments.repo
    app.features.payments.repo
ignore_imports =
    app.features.auth.repo -> app.common.db
    app.features.posts.repo -> app.common.db
    app.features.reactions.repo -> app.common.db
    app.features.comments.repo -> app.common.db
    app.features.payments.repo -> app.common.db

[contract: forbid_cross_feature_service]
type = forbidden
name = Features must not import each other's services
source_modules =
    app.features.auth.service
    app.features.posts.service
    app.features.reactions.service
    app.features.comments.service
    app.features.payments.service
forbidden_modules =
    app.features.auth.service
    app.features.posts.service
    app.features.reactions.service
    app.features.comments.service
    app.features.payments.service
ignore_imports =
    app.features.auth.service -> app.common.errors
    app.features.posts.service -> app.common.errors
    app.features.reactions.service -> app.common.errors
    app.features.comments.service -> app.common.errors
    app.features.payments.service -> app.common.errors