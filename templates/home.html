{% extends 'base.html' %}
{% import "_components.html" as C %}
{% block title %}Home Â· Mini Word Finder{% endblock %}

{% block nav_actions %}
  {{ super() }}
{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; gap: 20px; max-width: 600px; margin: 0 auto; padding: 20px;">

  <!-- Continue Playing Block -->
  <div class="game-block" onclick="toggleSection('continue')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 15px; text-align: center; cursor: pointer; box-shadow: 0 8px 25px rgba(0,0,0,0.3); transition: transform 0.3s ease;">
    <h2 style="margin: 0; color: white; font-size: 24px; font-weight: bold;">ðŸŽ® Continue Playing</h2>
    <p style="margin: 10px 0 0; color: rgba(255,255,255,0.9); font-size: 16px;">Pick up where you left off</p>
  </div>
  <div id="continue-content" style="display: none; margin-top: -10px;">
    {{ C.rail('Continue Playing', continue_items or []) }}
  </div>

  <!-- Trending Puzzles Block -->
  <div class="game-block" onclick="toggleSection('trending')" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 30px; border-radius: 15px; text-align: center; cursor: pointer; box-shadow: 0 8px 25px rgba(0,0,0,0.3); transition: transform 0.3s ease;">
    <h2 style="margin: 0; color: white; font-size: 24px; font-weight: bold;">ðŸ”¥ Trending Puzzles</h2>
    <p style="margin: 10px 0 0; color: rgba(255,255,255,0.9); font-size: 16px;">What everyone's playing now</p>
  </div>
  <div id="trending-content" style="display: none; margin-top: -10px;">
    {{ C.rail('Trending Puzzles', trending_items or []) }}
  </div>

  <!-- New This Week Block -->
  <div class="game-block" onclick="toggleSection('new')" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 30px; border-radius: 15px; text-align: center; cursor: pointer; box-shadow: 0 8px 25px rgba(0,0,0,0.3); transition: transform 0.3s ease;">
    <h2 style="margin: 0; color: white; font-size: 24px; font-weight: bold;">âœ¨ New This Week</h2>
    <p style="margin: 10px 0 0; color: rgba(255,255,255,0.9); font-size: 16px;">Fresh puzzles just added</p>
  </div>
  <div id="new-content" style="display: none; margin-top: -10px;">
    {{ C.rail('New This Week', new_items or []) }}
  </div>

</div>

<script>
function toggleSection(section) {
  const content = document.getElementById(section + '-content');
  const isVisible = content.style.display !== 'none';

  // Hide all sections first
  document.getElementById('continue-content').style.display = 'none';
  document.getElementById('trending-content').style.display = 'none';
  document.getElementById('new-content').style.display = 'none';

  // Show the clicked section if it wasn't already visible
  if (!isVisible) {
    content.style.display = 'block';
    content.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }
}

// Add hover effects
document.addEventListener('DOMContentLoaded', function() {
  const blocks = document.querySelectorAll('.game-block');
  blocks.forEach(block => {
    block.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-5px) scale(1.02)';
    });
    block.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0) scale(1)';
    });
  });
});
</script>

<style>
.game-block:hover {
  transform: translateY(-5px) scale(1.02);
}

.game-block:active {
  transform: translateY(0) scale(0.98);
}
</style>
{% endblock %}