{% extends 'base.html' %}
{% import "_components.html" as C %}
{% block title %}Home Â· Mini Word Finder{% endblock %}

{% block nav_actions %}
  {{ super() }}
{% endblock %}

{% block content %}
<div style="max-width: 700px; margin: 0 auto; padding: 20px;">

  <!-- Single Main Game Block -->
  <div class="main-game-block" onclick="toggleGameContent()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%, #f093fb 50%, #4facfe 100%); padding: 40px; border-radius: 20px; text-align: center; cursor: pointer; box-shadow: 0 12px 35px rgba(0,0,0,0.4); transition: all 0.3s ease; margin-bottom: 20px;">
    <h1 style="margin: 0; color: white; font-size: 32px; font-weight: bold;">ðŸŽ® Game Hub</h1>
    <p style="margin: 15px 0 0; color: rgba(255,255,255,0.9); font-size: 18px;">Explore all your puzzles and games</p>
    <div id="expand-indicator" style="margin-top: 20px; color: rgba(255,255,255,0.8); font-size: 14px; transition: transform 0.3s ease;">
      â–¼ Click to expand
    </div>
  </div>

  <!-- Expanded Content (All Sections) -->
  <div id="game-content" style="display: none; background: rgba(255,255,255,0.05); border-radius: 15px; padding: 30px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1);">

    <div style="margin-bottom: 40px;">
      <h3 style="color: #667eea; margin-bottom: 20px; font-size: 20px;">ðŸŽ® Continue Playing</h3>
      {{ C.rail('Continue Playing', continue_items or []) }}
    </div>

    <div style="margin-bottom: 40px;">
      <h3 style="color: #f093fb; margin-bottom: 20px; font-size: 20px;">ðŸ”¥ Trending Puzzles</h3>
      {{ C.rail('Trending Puzzles', trending_items or []) }}
    </div>

    <div>
      <h3 style="color: #4facfe; margin-bottom: 20px; font-size: 20px;">âœ¨ New This Week</h3>
      {{ C.rail('New This Week', new_items or []) }}
    </div>

  </div>

</div>

<script>
function toggleGameContent() {
  const content = document.getElementById('game-content');
  const indicator = document.getElementById('expand-indicator');
  const isVisible = content.style.display !== 'none';

  if (isVisible) {
    // Close
    content.style.display = 'none';
    indicator.innerHTML = 'â–¼ Click to expand';
    indicator.style.transform = 'rotate(0deg)';
  } else {
    // Open
    content.style.display = 'block';
    indicator.innerHTML = 'â–² Click to collapse';
    indicator.style.transform = 'rotate(180deg)';
    // Smooth scroll to content
    setTimeout(() => {
      content.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }, 100);
  }
}

// Add hover effects
document.addEventListener('DOMContentLoaded', function() {
  const mainBlock = document.querySelector('.main-game-block');
  mainBlock.addEventListener('mouseenter', function() {
    this.style.transform = 'translateY(-8px) scale(1.02)';
    this.style.boxShadow = '0 20px 50px rgba(0,0,0,0.5)';
  });
  mainBlock.addEventListener('mouseleave', function() {
    this.style.transform = 'translateY(0) scale(1)';
    this.style.boxShadow = '0 12px 35px rgba(0,0,0,0.4)';
  });
});
</script>

<style>
.main-game-block:active {
  transform: translateY(0) scale(0.98) !important;
}
</style>
{% endblock %}