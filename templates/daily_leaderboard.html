{% extends "base.html" %}
{% block content %}
<div class="leaderboard-page">
  <!-- Hero Header -->
  <div class="leaderboard-hero">
    <div class="container">
      <div class="leaderboard-hero-text">
        <h1 class="leaderboard-hero-title">üìÖ Daily Leaderboard</h1>
        <p class="leaderboard-hero-subtitle">Today's top performances across all modes</p>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- Navigation Tabs -->
    <div class="leaderboard-nav-tabs">
      <a href="/leaderboard" class="btn leaderboard-tab">
        üèÜ Puzzle Champions
      </a>
      <a href="/daily_leaderboard" class="btn leaderboard-tab-active">
        üìÖ Daily Rankings
      </a>
    </div>

    <div class="card" style="margin-top: 20px;">
      <form method="get" action="/daily_leaderboard" class="daily-form" style="margin-bottom: 20px;">
        <label for="day">Choose day:</label>
        <select name="day" id="day" class="daily-select" onchange="this.form.submit()">
          {% for d in dates %}
            <option value="{{ d }}" {% if d == day %}selected{% endif %}>{{ d }}</option>
          {% endfor %}
        </select>
        <button type="submit" class="btn" style="margin-left: 10px;">Go</button>
      </form>

  <p class="daily-info">Showing scores for <strong>{{ day }}</strong>. Everyone had the same grid per mode.</p>

  <div class="daily-grid">
    {% for m in leaders.keys() %}
    <div class="daily-mode-section">
      <h3 class="daily-mode-title">{{ m|capitalize }}</h3>
      <table class="leader daily-table">
        <thead>
          <tr><th>#</th><th>User</th><th>Score</th><th>Elapsed</th><th>Note</th><th>When</th></tr>
        </thead>
        <tbody>
        {% for row in leaders[m] %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ row['email'] }}</td>
            <td>{{ row['score'] }}</td>
            <td>{{ row['elapsed'] if row['elapsed'] else '-' }}</td>
            <td>{{ row['note'] }}</td>
            <td>{{ row['created_at'] }}</td>
          </tr>
        {% else %}
          <tr><td colspan="6" class="daily-no-entries">No entries yet.</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
    {% endfor %}
  </div>
  </div>
  </div>
</div>
{% endblock %}