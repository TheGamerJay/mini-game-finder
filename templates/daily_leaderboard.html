{% extends "base.html" %}
{% block content %}
<div class="card">
  <div class="daily-header">
    <h2 class="daily-title">Daily Global Leaderboard</h2>
    <div>
      <a class="btn" href="{{ url_for('home') }}">Modes</a>
      <a class="btn" href="{{ url_for('leaderboard') }}">All-Time</a>
    </div>
  </div>

  <form method="get" action="{{ url_for('daily_leaderboard') }}" class="daily-form">
    <label for="day">Choose day:</label>
    <select name="day" id="day" class="daily-select">
      {% for d in dates %}
        <option value="{{ d }}" {% if d == day %}selected{% endif %}>{{ d }}</option>
      {% endfor %}
    </select>
  </form>

  <p class="daily-info">Showing scores for <strong>{{ day }}</strong>. Everyone had the same grid per mode.</p>

  <div class="daily-grid">
    {% for m in leaders.keys() %}
    <div class="daily-mode-section">
      <h3 class="daily-mode-title">{{ m|capitalize }}</h3>
      <table class="leader daily-table">
        <thead>
          <tr><th>#</th><th>User</th><th>Score</th><th>Elapsed</th><th>Note</th><th>When</th></tr>
        </thead>
        <tbody>
        {% for row in leaders[m] %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ row['email'] }}</td>
            <td>{{ row['score'] }}</td>
            <td>{{ row['elapsed'] if row['elapsed'] else '-' }}</td>
            <td>{{ row['note'] }}</td>
            <td>{{ row['created_at'] }}</td>
          </tr>
        {% else %}
          <tr><td colspan="6" class="daily-no-entries">No entries yet.</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}